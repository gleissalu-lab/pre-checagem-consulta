<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Pr√©-Checagem da Consulta Online</title>
  <style>
    body { font-family: Arial, sans-serif; text-align: center; margin: 40px; }
    .ok { color: green; font-weight: bold; }
    .erro { color: red; font-weight: bold; }
    video { margin-top: 20px; border: 2px solid #333; border-radius: 8px; }
  </style>
</head>
<body>
  <h2>üîç Pr√©-Checagem da Consulta Online</h2>
  <p>Vamos verificar sua c√¢mera, microfone e internet.</p>

  <button onclick="checarTudo()">Iniciar Checagem</button>
  <div id="resultado"></div>
  <video id="video" width="320" height="240" autoplay></video>

  <script>
    async function checarTudo() {
      document.getElementById("resultado").innerHTML = "‚è≥ Testando...";

      let resultados = [];

      // Testar c√¢mera e microfone
      try {
        const stream = await navigator.mediaDevices.getUserMedia({ video: true, audio: true });
        document.getElementById("video").srcObject = stream;
        resultados.push('<p class="ok">‚úÖ C√¢mera e microfone detectados.</p>');
      } catch (e) {
        resultados.push('<p class="erro">‚ùå Erro ao acessar c√¢mera/microfone: ' + e.message + '</p>');
      }

      // Testar internet (lat√™ncia at√© o Google)
      let inicio = performance.now();
      try {
        await fetch("https://www.google.com", { mode: 'no-cors' });
        let fim = performance.now();
        let tempo = (fim - inicio).toFixed(2);
        resultados.push('<p class="ok">‚úÖ Internet funcionando (lat√™ncia: ' + tempo + ' ms).</p>');
      } catch (e) {
        resultados.push('<p class="erro">‚ùå Sem internet ou conex√£o inst√°vel.</p>');
      }

      document.getElementById("resultado").innerHTML = resultados.join("");
    }
  </script>
</body>
</html>